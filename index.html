<!DOCTYPE html>
<html>
<head>
    <title>BTS Pomodoro Timer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 16px;
            background: linear-gradient(135deg, #F5F0F6 0%, #E4D6E9 30%, #D4C4D9 70%, #C8B8CE 100%);
            min-height: 100vh;
        }
    </style>
</head>
<body>
    <div class="bg-white bg-opacity-90 rounded-3xl shadow-2xl p-6 max-w-md mx-auto">
        <div class="text-center mb-6">
            <h1 class="text-3xl font-bold text-gray-700 mb-2">üçÖ Pomodoro Timer</h1>
            <div class="flex justify-between text-sm text-gray-500">
                <span>Sessions: <span id="sessions">0</span>/<span id="totalCycles">4</span></span>
                <button id="settingsBtn">‚öôÔ∏è Settings</button>
            </div>
        </div>

        <div class="text-center mb-6">
            <div id="timerMode" class="text-lg font-semibold mb-2">üéØ Focus Time</div>
            <div id="timer" class="text-6xl font-mono font-bold text-gray-800 mb-4">25:00</div>
            <div class="w-full bg-gray-200 rounded-full h-3">
                <div id="progress" class="h-3 rounded-full bg-gradient-to-r from-purple-300 to-pink-300" style="width: 0%"></div>
            </div>
        </div>

        <div class="flex justify-center space-x-3 mb-4">
            <button id="startPause" class="px-6 py-3 rounded-lg bg-green-500 hover:bg-green-600 text-white font-semibold">Start</button>
            <button id="reset" class="px-6 py-3 rounded-lg bg-gray-400 hover:bg-gray-500 text-white font-semibold">Reset</button>
            <button id="quit" class="px-6 py-3 rounded-lg bg-red-400 hover:bg-red-500 text-white font-semibold">Quit</button>
        </div>

        <div class="text-center text-sm text-gray-500 bg-gray-100 rounded-lg p-3">
            <p>Cycle <span id="currentCycle">1</span> of <span id="maxCycles">4</span></p>
        </div>
    </div>

    <div id="quoteContainer" class="bg-white bg-opacity-90 rounded-2xl shadow-xl p-5 max-w-md mx-auto mt-4">
        <h3 class="text-center text-sm font-semibold text-gray-600 mb-3">üí≠ BTS Inspiration</h3>
        <div class="p-4 bg-purple-50 rounded-xl">
            <p id="mainQuote" class="text-black text-base font-medium mb-2 text-center"></p>
            <p id="mainQuoteAuthor" class="text-sm text-gray-600 italic text-center"></p>
        </div>
        <div class="text-center mt-3">
            <button id="newQuoteBtn" class="px-4 py-2 bg-purple-200 hover:bg-purple-300 text-gray-700 rounded-lg text-sm">‚ú® New Quote</button>
        </div>
    </div>

    <div id="settingsPanel" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center">
        <div class="bg-white rounded-2xl p-6 max-w-sm mx-4">
            <h3 class="text-xl font-bold mb-6 text-center">‚öôÔ∏è Settings</h3>
            
            <div class="mb-6">
                <label class="block text-sm font-semibold mb-3">Work Time</label>
                <div class="flex items-center justify-center space-x-4">
                    <button id="workMinus" class="w-10 h-10 rounded-full bg-purple-200 hover:bg-purple-300 font-bold text-xl">‚àí</button>
                    <div class="text-xl font-bold min-w-20 text-center"><span id="workTimeDisplay">25</span> min</div>
                    <button id="workPlus" class="w-10 h-10 rounded-full bg-purple-200 hover:bg-purple-300 font-bold text-xl">+</button>
                </div>
            </div>
            
            <div class="mb-6">
                <label class="block text-sm font-semibold mb-3">Break Time</label>
                <div class="flex items-center justify-center space-x-4">
                    <button id="breakMinus" class="w-10 h-10 rounded-full bg-purple-200 hover:bg-purple-300 font-bold text-xl">‚àí</button>
                    <div class="text-xl font-bold min-w-20 text-center"><span id="breakTimeDisplay">5</span> min</div>
                    <button id="breakPlus" class="w-10 h-10 rounded-full bg-purple-200 hover:bg-purple-300 font-bold text-xl">+</button>
                </div>
            </div>
            
            <div class="mb-6">
                <label class="block text-sm font-semibold mb-3">Cycles</label>
                <div class="flex items-center justify-center space-x-4">
                    <button id="cyclesMinus" class="w-10 h-10 rounded-full bg-purple-200 hover:bg-purple-300 font-bold text-xl">‚àí</button>
                    <div class="text-xl font-bold min-w-20 text-center"><span id="cyclesDisplay">4</span></div>
                    <button id="cyclesPlus" class="w-10 h-10 rounded-full bg-purple-200 hover:bg-purple-300 font-bold text-xl">+</button>
                </div>
            </div>
            
            <div class="flex space-x-3">
                <button id="saveSettings" class="flex-1 bg-purple-400 hover:bg-purple-500 text-white py-3 rounded-lg font-semibold">Save</button>
                <button id="cancelSettings" class="flex-1 bg-gray-400 hover:bg-gray-500 text-white py-3 rounded-lg font-semibold">Cancel</button>
            </div>
        </div>
    </div>

    <script>
        const quotes = [
            { quote: "I have come to love myself for who I am, for who I was, and for who I hope to become", author: "RM" },
            { quote: "Don't be trapped in someone else's dream", author: "V" },
            { quote: "I do believe your galaxy is endless and beautiful", author: "V" },
            { quote: "Live life with no worries", author: "J-Hope" },
            { quote: "I'd rather die than live without passion", author: "Jungkook" },
            { quote: "Effort makes you. You will regret someday if you don't do your best now", author: "Jungkook" },
            { quote: "I'm the one I should love in this world", author: "Jin" },
            { quote: "There's no need to be perfect. Just be yourself", author: "Jimin" },
            { quote: "Your presence can give happiness. I hope you remember that", author: "Jin" }
        ];

        let workMinutes = 25, breakMinutes = 5, maxCycles = 4;
        let minutes = 25, seconds = 0, isActive = false, isBreak = false;
        let completedSessions = 0, currentCycle = 1, timerInterval = null;

        function playSound(type) {
            const ctx = new (window.AudioContext || window.webkitAudioContext)();
            const osc = ctx.createOscillator();
            const gain = ctx.createGain();
            osc.connect(gain);
            gain.connect(ctx.destination);

            if (type === 'start') {
                osc.frequency.setValueAtTime(523, ctx.currentTime);
                gain.gain.setValueAtTime(0.3, ctx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.3);
                osc.start(); osc.stop(ctx.currentTime + 0.3);
            } else if (type === 'end') {
                osc.frequency.setValueAtTime(659, ctx.currentTime);
                gain.gain.setValueAtTime(0.3, ctx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.5);
                osc.start(); osc.stop(ctx.currentTime + 0.5);
            } else if (type === 'quit') {
                osc.frequency.setValueAtTime(440, ctx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(220, ctx.currentTime + 0.8);
                gain.gain.setValueAtTime(0.3, ctx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.8);
                osc.start(); osc.stop(ctx.currentTime + 0.8);
            }
        }

        function showQuote() {
            const q = quotes[Math.floor(Math.random() * quotes.length)];
            document.getElementById('mainQuote').textContent = `"${q.quote}"`;
            document.getElementById('mainQuoteAuthor').textContent = `‚Äî ${q.author}`;
            document.getElementById('quoteContainer').style.display = 'block';
        }

        function hideQuote() {
            document.getElementById('quoteContainer').style.display = 'none';
        }

        function updateDisplay() {
            const time = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('timer').textContent = time;
            document.getElementById('timerMode').textContent = isBreak ? 'üíú Break Time' : 'üéØ Focus Time';
            document.getElementById('sessions').textContent = completedSessions;
            document.getElementById('totalCycles').textContent = maxCycles;
            document.getElementById('currentCycle').textContent = currentCycle;
            document.getElementById('maxCycles').textContent = maxCycles;
            
            const total = (isBreak ? breakMinutes : workMinutes) * 60;
            const current = minutes * 60 + seconds;
            const progress = ((total - current) / total) * 100;
            document.getElementById('progress').style.width = progress + '%';
            
            if (!isActive) showQuote(); else hideQuote();
        }

        function toggleTimer() {
            if (isActive) {
                isActive = false;
                clearInterval(timerInterval);
                document.getElementById('startPause').textContent = 'Start';
                updateDisplay();
            } else {
                isActive = true;
                playSound('start');
                hideQuote();
                timerInterval = setInterval(() => {
                    if (seconds > 0) {
                        seconds--;
                    } else if (minutes > 0) {
                        minutes--; seconds = 59;
                    } else {
                        isActive = false;
                        clearInterval(timerInterval);
                        playSound('end');
                        
                        if (isBreak) {
                            isBreak = false;
                            minutes = workMinutes;
                            currentCycle++;
                            if (currentCycle > maxCycles) {
                                alert('üéâ All cycles complete!');
                                completedSessions = 0; currentCycle = 1;
                            }
                        } else {
                            completedSessions++;
                            isBreak = true;
                            minutes = breakMinutes;
                        }
                        seconds = 0;
                        document.getElementById('startPause').textContent = 'Start';
                    }
                    updateDisplay();
                }, 1000);
                document.getElementById('startPause').textContent = 'Pause';
            }
        }

        document.getElementById('startPause').onclick = toggleTimer;
        
        document.getElementById('reset').onclick = () => {
            isActive = false;
            clearInterval(timerInterval);
            minutes = isBreak ? breakMinutes : workMinutes;
            seconds = 0;
            document.getElementById('startPause').textContent = 'Start';
            updateDisplay();
        };

        document.getElementById('quit').onclick = () => {
            isActive = false;
            clearInterval(timerInterval);
            playSound('quit');
            isBreak = false;
            minutes = workMinutes; seconds = 0;
            completedSessions = 0; currentCycle = 1;
            document.getElementById('startPause').textContent = 'Start';
            updateDisplay();
        };

        document.getElementById('settingsBtn').onclick = () => {
            document.getElementById('settingsPanel').classList.remove('hidden');
            document.getElementById('workTimeDisplay').textContent = workMinutes;
            document.getElementById('breakTimeDisplay').textContent = breakMinutes;
            document.getElementById('cyclesDisplay').textContent = maxCycles;
        };

        document.getElementById('saveSettings').onclick = () => {
            minutes = isBreak ? breakMinutes : workMinutes; seconds = 0;
            updateDisplay();
            document.getElementById('settingsPanel').classList.add('hidden');
        };

        document.getElementById('cancelSettings').onclick = () => {
            document.getElementById('settingsPanel').classList.add('hidden');
        };

        document.getElementById('workPlus').onclick = () => {
            if (workMinutes < 60) {
                workMinutes += 5;
                document.getElementById('workTimeDisplay').textContent = workMinutes;
            }
        };

        document.getElementById('workMinus').onclick = () => {
            if (workMinutes > 5) {
                workMinutes -= 5;
                document.getElementById('workTimeDisplay').textContent = workMinutes;
            }
        };

        document.getElementById('breakPlus').onclick = () => {
            if (breakMinutes < 15) {
                breakMinutes += 5;
                document.getElementById('breakTimeDisplay').textContent = breakMinutes;
            }
        };

        document.getElementById('breakMinus').onclick = () => {
            if (breakMinutes > 5) {
                breakMinutes -= 5;
                document.getElementById('breakTimeDisplay').textContent = breakMinutes;
            }
        };

        document.getElementById('cyclesPlus').onclick = () => {
            if (maxCycles < 10) {
                maxCycles += 1;
                document.getElementById('cyclesDisplay').textContent = maxCycles;
            }
        };

        document.getElementById('cyclesMinus').onclick = () => {
            if (maxCycles > 1) {
                maxCycles -= 1;
                document.getElementById('cyclesDisplay').textContent = maxCycles;
            }
        };

        document.getElementById('newQuoteBtn').onclick = showQuote;

        updateDisplay();
    </script>
</body>
</html>
